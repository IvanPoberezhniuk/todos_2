{"version":3,"sources":["components/todos__footer.jsx","components/todos__list.jsx","api/helper.js","components/Todos.jsx","App.js","index.js"],"names":["randomstring","require","TABS","type","TodosFooter","_ref","itemsLeft","changeFilter","clearCompleted","activeTabIndex","react_default","a","createElement","Fragment","className","map","tab","index","key","generate","onClick","TodosList","visibleTodos","toggleIsCompleted","removeTask","task","id","defaultChecked","isCompleted","cashedVisibleTodos","callback","prevArgs","prevValue","_len","arguments","length","args","Array","_key","every","arg","apply","Todos","state","todoList","inputValue","filter","areTodos","saveDataToLocalStorage","window","addEventListener","localStorage","setItem","JSON","stringify","_this","addTask","event","preventDefault","value","test","setState","prevState","concat","Object","toConsumableArray","filterTasks","data","cashedFilteredTodos","cashVisibleTodos","filterBy","newData","taskIndex","findIndex","changeStateInputValue","target","localData","parse","getItem","this","removeEventListener","_this$state","placeholder","autoComplete","onChange","hidden","todos_list","todos_footer","Component","App","Todos_Todos","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.e1fa634f.chunk.js","sourcesContent":["import React from 'react';\r\nconst randomstring = require('randomstring');\r\n\r\nconst TABS = [{ type: 'All' }, { type: 'Active' }, { type: 'Completed' }];\r\n\r\nconst TodosFooter = ({\r\n  itemsLeft,\r\n  changeFilter,\r\n  clearCompleted,\r\n  activeTabIndex\r\n}) => {\r\n  return (\r\n    <>\r\n      <div className=\"todos__footer\">\r\n        <div>{itemsLeft} items left</div>\r\n        <div className=\"todos__filter\">\r\n          {TABS.map((tab, index) => (\r\n            <div\r\n              key={randomstring.generate(3)}\r\n              onClick={() => changeFilter(tab.type, index)}\r\n              className={index === activeTabIndex ? 'activeTab' : null}\r\n            >\r\n              {tab.type}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div onClick={clearCompleted} className=\"todos__clearCompleted\">\r\n          Clear Completed\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodosFooter;\r\n","import React from 'react';\r\n\r\nconst TodosList = ({ visibleTodos, toggleIsCompleted, removeTask }) => {\r\n  return visibleTodos.map(task => {\r\n    return (\r\n      <div className=\"todos__dropDownTask\" key={task.id}>\r\n        <div className=\"todos__task-wrapper\">\r\n          <input\r\n            onClick={() => toggleIsCompleted(task.id)}\r\n            type=\"checkbox\"\r\n            className=\"todos__toggle\"\r\n            defaultChecked={task.isCompleted}\r\n          />\r\n          <span className=\"todos__toggle--helper\" />\r\n          <span className=\"todos__task\">{task.task}</span>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"todos__button-delete\"\r\n          onClick={() => removeTask(task.id)}\r\n        >\r\n          x\r\n        </button>\r\n      </div>\r\n    );\r\n  });\r\n};\r\n\r\nexport default TodosList;\r\n","const cashedVisibleTodos = callback => {\r\n  let prevArgs = [];\r\n  let prevValue = [];\r\n\r\n  return (...args) => {\r\n    if (args.every((arg, index) => arg === prevArgs[index])) {\r\n      return prevValue;\r\n    }\r\n\r\n    prevArgs = args;\r\n    prevValue = callback(...args);\r\n\r\n    return prevValue;\r\n  };\r\n};\r\n\r\nexport default cashedVisibleTodos;\r\n","import React, { Component } from 'react';\r\nimport TodosFooter from './todos__footer.jsx';\r\nimport TodosList from './todos__list.jsx';\r\nimport cashVisibleTodos from '../api/helper';\r\nconst randomstring = require('randomstring');\r\n\r\nexport default class Todos extends Component {\r\n  state = {\r\n    todoList: [],\r\n    inputValue: '',\r\n    filter: 'All',\r\n    areTodos: false,\r\n    activeTabIndex: 0\r\n  };\r\n\r\n  componentDidMount() {\r\n    const localData =\r\n      JSON.parse(window.localStorage.getItem('localData')) || [];\r\n\r\n    this.setState({\r\n      todoList: localData,\r\n      areTodos: true\r\n    });\r\n\r\n    this.saveDataToLocalStorage();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('beforeunload', this.saveDataToLocalStorage);\r\n    this.saveDataToLocalStorage();\r\n  }\r\n\r\n  saveDataToLocalStorage = () => {\r\n    window.addEventListener('beforeunload', () =>\r\n      window.localStorage.setItem(\r\n        'localData',\r\n        JSON.stringify(this.state.todoList)\r\n      )\r\n    );\r\n  };\r\n\r\n  addTask = event => {\r\n    event.preventDefault();\r\n    const isEmpty = value => /^ *$/.test(value);\r\n\r\n    if (isEmpty(this.state.inputValue)) {\r\n      return;\r\n    } else {\r\n      this.setState(prevState => {\r\n        const newData = [\r\n          ...prevState.todoList,\r\n          {\r\n            task: prevState.inputValue,\r\n            isCompleted: false,\r\n            id: randomstring.generate(5)\r\n          }\r\n        ];\r\n\r\n        return {\r\n          todoList: newData,\r\n          inputValue: ''\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  removeTask = id => {\r\n    this.setState(prevState => {\r\n      return {\r\n        todoList: prevState.todoList.filter(task => task.id !== id)\r\n      };\r\n    });\r\n  };\r\n\r\n  filterTasks = data => {\r\n    switch (this.state.filter) {\r\n      case 'Active':\r\n        return data.filter(task => !task.isCompleted);\r\n      case 'Completed':\r\n        return data.filter(task => task.isCompleted);\r\n      default:\r\n        return data;\r\n    }\r\n  };\r\n\r\n  cashedFilteredTodos = cashVisibleTodos(this.filterTasks);\r\n\r\n  changeFilter = (filterBy, index) => {\r\n    this.setState({\r\n      filter: filterBy,\r\n      activeTabIndex: index\r\n    });\r\n  };\r\n\r\n  toggleIsCompleted = id => {\r\n    this.setState(prevState => {\r\n      const newData = [...prevState.todoList];\r\n      const taskIndex = newData.findIndex(task => task.id === id);\r\n\r\n      newData[taskIndex].isCompleted = !newData[taskIndex].isCompleted;\r\n\r\n      return {\r\n        todoList: newData\r\n      };\r\n    });\r\n  };\r\n\r\n  clearCompleted = () => {\r\n    this.setState(prevState => {\r\n      return {\r\n        todoList: prevState.todoList.filter(task => !task.isCompleted)\r\n      };\r\n    });\r\n  };\r\n\r\n  changeStateInputValue = event => {\r\n    this.setState({\r\n      inputValue: event.target.value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { todoList, inputValue, areTodos, activeTabIndex } = this.state;\r\n    const visibleTodos = this.cashedFilteredTodos([...todoList]);\r\n    const itemsLeft = todoList.filter(task => !task.isCompleted).length;\r\n\r\n    return (\r\n      <div className=\"todos__container\">\r\n        <h1 className=\"todos__header\">todos</h1>\r\n        <form className=\"todos\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"What need to be done?\"\r\n            className=\"input-base\"\r\n            autoComplete=\"off\"\r\n            onChange={this.changeStateInputValue}\r\n            value={inputValue}\r\n          />\r\n          <button type=\"submit\" onClick={this.addTask} hidden />\r\n\r\n          {areTodos ? (\r\n            <TodosList\r\n              visibleTodos={visibleTodos}\r\n              toggleIsCompleted={this.toggleIsCompleted}\r\n              removeTask={this.removeTask}\r\n            />\r\n          ) : null}\r\n          <TodosFooter\r\n            activeTabIndex={activeTabIndex}\r\n            changeFilter={this.changeFilter}\r\n            clearCompleted={this.clearCompleted}\r\n            itemsLeft={itemsLeft}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport Todos from './components/Todos';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return <Todos />;\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}